<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Maze Game - Home</title>
    <link rel="stylesheet" href="home.css" />
  </head>
  <body>
    <div class="container">
      <h1>Maze Game</h1>
      <button id = "howButton">How to Play</button>
      <form id="homeForm">
        <div class="form-group">
          <label for="userName">Your Name:</label>
          <input type="text" id="userName" name="userName" required />
        </div>
        <div class="form-group">
          <label for="colorSelect">Choose a Color:</label>
          <select id="colorSelect" name="colorSelect" required>
            <option value="blue">Blue</option>
            <option value="red">Red</option>
            <option value="purple">Purple</option>
            <option value="green">Green</option>
          </select>
        </div>
        <div class="join">
          <button type="submit">Join Game</button>
        </div>
      </form>
    </div>

    <div id="howToPlayModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>How to Play</h2>
        <p>Use the tilt of your device to navigate your ball through the maze. 
          Be the first to get your ball into the hole to win. 
          All players contribute to the overall tilt of the maze.
        Goodluck! </p>
      </div>
    </div>

    <script>
      document.getElementById('homeForm').addEventListener('submit', function (event) {
        event.preventDefault(); // Prevent form submission

        const userName = document.getElementById('userName').value;
        const selectedColor = document.getElementById('colorSelect').value;

        // Store user info in local storage
        localStorage.setItem('userName', userName);
        localStorage.setItem('selectedColor', selectedColor);

        // Redirect to game page
        window.location.href = 'index.html';
      });

      // Get the modal
      const modal = document.getElementById('howToPlayModal');

      // Get the button that opens the modal
      const btn = document.getElementById('howButton');

      // Get the <span> element that closes the modal
      const span = document.getElementsByClassName('close')[0];

      // When the user clicks the button, open the modal
      btn.onclick = function () {
        modal.style.display = 'block';
      }

      // When the user clicks on <span> (x), close the modal
      span.onclick = function () {
        modal.style.display = 'none';
      }

      // When the user clicks anywhere outside of the modal, close it
      window.onclick = function (event) {
        if (event.target == modal) {
          modal.style.display = 'none';
        }
      }
    </script>
  </body>
</html>
